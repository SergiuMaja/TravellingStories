<div class="row">
  <div class="col-xs-12">
    <h3>Story Details</h3>
    <hr class="main-hr-line">
    <form [formGroup]="storyForm" (ngSubmit)="onSubmit()">
      <h4>General Information</h4>
      <hr>
      <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2">
            <label for="title">Title</label>
            <input type="text" id="title" class="form-control" formControlName="title">
            <ng-template [ngIf]="editMode">
              <label for="creator">Creator</label>
              <input type="text" id="creator" class="form-control" [value]="creator.screenName"
                     formControlName="creator">
              <label for="createdDate">Created On</label>
              <input type="text" id="createdDate" class="form-control" formControlName="createdDate">
              <label for="updatedDate">Last Updated Date</label>
              <input type="text" id="updatedDate" class="form-control" formControlName="updatedDate">
            </ng-template>
        </div>
      </div>
      <h4>Destination</h4>
      <hr>
      <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2" formGroupName="destination">
          <div class="destination-title">
            <label for="destinationTitle">Destination Title</label>
            <mat-form-field>
              <mat-select placeholder="Existent destinations" name="existentDest"
                          [(ngModel)]="selectedDestId" [ngModelOptions]="{standalone: true}">
                <mat-option *ngFor="let dest of destinations" [value]="dest.id" (click)="onSelectDestination($event)">
                  {{dest.title}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <input type="text" id="destinationTitle" class="form-control" formControlName="title">
          </div>

          <div class="destination-location">
            <div class="continent">
              <label for="continent">Continent</label>
              <input type="text" id="continent" class="form-control" formControlName="continent">
            </div>
            <div class="country">
              <label for="country">Country</label>
              <input type="text" id="country" class="form-control" formControlName="country">
            </div>
            <div class="city">
              <label for="city">City</label>
              <input type="text" id="city" class="form-control" formControlName="city">
            </div>
          </div>

          <label for="locationPin">Location Pinpoint</label>
          <agm-map id="locationPin" [latitude]="lat" [longitude]="lng" (mapClick)="onLocationPin($event)">
            <agm-marker [latitude]="lat" [longitude]="lng" *ngIf="locationPinned"></agm-marker>
          </agm-map>
        </div>
      </div>
      <h4>Descriptions</h4>
      <hr>
      <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2">
          <div class="descriptions-row">
            <div class="accommodation-description">
              <label for="accommodation">Accommodation</label>
              <textarea type="text" id="accommodation" rows="6" class="form-control" formControlName="ACCOMMODATION">
              </textarea>
            </div>
            <div class="transportation-description">
              <label for="transportation">Transportation</label>
              <textarea type="text" id="transportation" rows="6" class="form-control" formControlName="TRANSPORTATION">
              </textarea>
            </div>
          </div>

          <div class="descriptions-row">
            <div class="culture-description">
              <label for="culture">Culture</label>
              <textarea type="text" id="culture" rows="6" class="form-control" formControlName="CULTURE">
              </textarea>
            </div>
            <div class="food-description">
              <label for="food">Food</label>
              <textarea type="text" id="food" rows="6" class="form-control" formControlName="FOOD">
              </textarea>
            </div>
          </div>

          <div class="descriptions-row">
            <div class="expenses-description">
              <label for="expenses">Expenses</label>
              <textarea type="text" id="expenses" rows="6" class="form-control" formControlName="EXPENSES">
              </textarea>
            </div>
            <div class="attractions-description">
              <label for="attractions">Tourist Attractions</label>
              <textarea type="text" id="attractions" rows="6" class="form-control" formControlName="ATTRACTIONS">
              </textarea>
            </div>
          </div>
        </div>
      </div>
      <hr class="main-hr-line">
      <div class="row">
        <div class="col-xs-12 col-md-8 col-md-offset-2">
          <div class="form-action-buttons">
            <button type="submit" class="btn btn-primary" [disabled]="!storyForm.valid||!storyForm.dirty">Submit</button>
            <button type="button" class="btn btn-danger" (click)="onCancel()">Cancel</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
